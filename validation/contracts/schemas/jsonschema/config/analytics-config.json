{
  "$schema": "https://json-schema.org/draft-07/schema#",
  "$id": "https://api.neuronews.com/schemas/analytics-config.json",
  "title": "Analytics Configuration",
  "description": "Configuration schema for analytics services",
  "type": "object",
  "properties": {
    "sentimentAnalysis": {
      "type": "object",
      "properties": {
        "enabled": {
          "type": "boolean",
          "default": true,
          "description": "Enable sentiment analysis processing"
        },
        "modelVersion": {
          "type": "string",
          "pattern": "^v\\d+\\.\\d+\\.\\d+$",
          "description": "Version of sentiment analysis model to use"
        },
        "confidenceThreshold": {
          "type": "number",
          "minimum": 0.0,
          "maximum": 1.0,
          "default": 0.8,
          "description": "Minimum confidence score to accept results"
        },
        "batchSize": {
          "type": "integer",
          "minimum": 1,
          "maximum": 1000,
          "default": 100,
          "description": "Number of articles to process in each batch"
        }
      },
      "required": ["enabled", "modelVersion"],
      "additionalProperties": false
    },
    "entityExtraction": {
      "type": "object",
      "properties": {
        "enabled": {
          "type": "boolean",
          "default": true,
          "description": "Enable named entity extraction"
        },
        "extractTypes": {
          "type": "array",
          "items": {
            "type": "string",
            "enum": ["PERSON", "ORG", "GPE", "LOC", "EVENT", "PRODUCT", "WORK_OF_ART", "LAW", "LANGUAGE", "DATE", "TIME", "PERCENT", "MONEY", "QUANTITY", "ORDINAL", "CARDINAL"]
          },
          "uniqueItems": true,
          "default": ["PERSON", "ORG", "GPE", "LOC"],
          "description": "Types of entities to extract"
        },
        "minConfidence": {
          "type": "number",
          "minimum": 0.0,
          "maximum": 1.0,
          "default": 0.7,
          "description": "Minimum confidence for entity extraction"
        }
      },
      "required": ["enabled"],
      "additionalProperties": false
    },
    "processing": {
      "type": "object",
      "properties": {
        "maxRetries": {
          "type": "integer",
          "minimum": 0,
          "maximum": 10,
          "default": 3,
          "description": "Maximum retry attempts for failed processing"
        },
        "timeoutSeconds": {
          "type": "integer",
          "minimum": 1,
          "maximum": 300,
          "default": 30,
          "description": "Processing timeout in seconds"
        },
        "parallelism": {
          "type": "integer",
          "minimum": 1,
          "maximum": 50,
          "default": 5,
          "description": "Number of parallel processing threads"
        }
      },
      "additionalProperties": false
    },
    "monitoring": {
      "type": "object",
      "properties": {
        "metricsEnabled": {
          "type": "boolean",
          "default": true,
          "description": "Enable metrics collection"
        },
        "alertThresholds": {
          "type": "object",
          "properties": {
            "errorRatePercent": {
              "type": "number",
              "minimum": 0,
              "maximum": 100,
              "default": 5,
              "description": "Error rate threshold for alerts"
            },
            "latencyMs": {
              "type": "integer",
              "minimum": 0,
              "default": 5000,
              "description": "Processing latency threshold in milliseconds"
            }
          },
          "additionalProperties": false
        }
      },
      "additionalProperties": false
    }
  },
  "required": ["sentimentAnalysis", "entityExtraction"],
  "additionalProperties": false,
  "examples": [
    {
      "sentimentAnalysis": {
        "enabled": true,
        "modelVersion": "v2.1.0",
        "confidenceThreshold": 0.85,
        "batchSize": 50
      },
      "entityExtraction": {
        "enabled": true,
        "extractTypes": ["PERSON", "ORG", "GPE", "LOC", "EVENT"],
        "minConfidence": 0.75
      },
      "processing": {
        "maxRetries": 3,
        "timeoutSeconds": 60,
        "parallelism": 10
      },
      "monitoring": {
        "metricsEnabled": true,
        "alertThresholds": {
          "errorRatePercent": 2,
          "latencyMs": 3000
        }
      }
    }
  ]
}
