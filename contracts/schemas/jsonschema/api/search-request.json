{
  "$schema": "https://json-schema.org/draft-07/schema#",
  "$id": "https://api.neuronews.com/schemas/search-request.json",
  "title": "Search Request",
  "description": "Schema for search API requests",
  "type": "object",
  "properties": {
    "query": {
      "type": "string",
      "minLength": 1,
      "maxLength": 1000,
      "description": "Search query text"
    },
    "type": {
      "type": "string",
      "enum": ["keyword", "semantic", "hybrid", "faceted"],
      "default": "keyword",
      "description": "Type of search to perform"
    },
    "filters": {
      "type": "object",
      "properties": {
        "dateRange": {
          "type": "object",
          "properties": {
            "startDate": {
              "type": "string",
              "format": "date-time",
              "description": "Start date for filtering (ISO 8601)"
            },
            "endDate": {
              "type": "string", 
              "format": "date-time",
              "description": "End date for filtering (ISO 8601)"
            }
          },
          "additionalProperties": false
        },
        "categories": {
          "type": "array",
          "items": {
            "type": "string",
            "enum": ["technology", "politics", "business", "sports", "entertainment", "science", "health", "environment", "finance", "other"]
          },
          "uniqueItems": true,
          "description": "Filter by article categories"
        },
        "sources": {
          "type": "array",
          "items": {
            "type": "string",
            "pattern": "^[a-zA-Z0-9_-]+$"
          },
          "uniqueItems": true,
          "description": "Filter by news sources"
        },
        "languages": {
          "type": "array",
          "items": {
            "type": "string",
            "enum": ["en", "es", "fr", "de", "it", "pt", "ru", "zh", "ja", "ar"]
          },
          "uniqueItems": true,
          "description": "Filter by article languages"
        }
      },
      "additionalProperties": false,
      "description": "Search filters to apply"
    },
    "pagination": {
      "type": "object",
      "properties": {
        "offset": {
          "type": "integer",
          "minimum": 0,
          "default": 0,
          "description": "Number of results to skip"
        },
        "limit": {
          "type": "integer",
          "minimum": 1,
          "maximum": 100,
          "default": 20,
          "description": "Maximum number of results to return"
        }
      },
      "additionalProperties": false,
      "description": "Pagination parameters"
    },
    "sort": {
      "type": "object",
      "properties": {
        "field": {
          "type": "string",
          "enum": ["relevance", "publishedAt", "title", "popularity"],
          "default": "relevance",
          "description": "Field to sort results by"
        },
        "order": {
          "type": "string",
          "enum": ["asc", "desc"],
          "default": "desc",
          "description": "Sort order (ascending or descending)"
        }
      },
      "additionalProperties": false,
      "description": "Result sorting configuration"
    }
  },
  "required": ["query"],
  "additionalProperties": false,
  "examples": [
    {
      "query": "artificial intelligence breakthrough",
      "type": "semantic",
      "filters": {
        "dateRange": {
          "startDate": "2025-08-01T00:00:00Z",
          "endDate": "2025-08-28T23:59:59Z"
        },
        "categories": ["technology", "science"],
        "languages": ["en"]
      },
      "pagination": {
        "offset": 0,
        "limit": 10
      },
      "sort": {
        "field": "relevance",
        "order": "desc"
      }
    }
  ]
}
