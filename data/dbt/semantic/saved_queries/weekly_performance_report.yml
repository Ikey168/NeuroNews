# Weekly Performance Report
# A saved query for weekly system performance monitoring

saved_queries:
  - name: weekly_performance_report
    description: "Weekly system performance and user engagement report"
    query_params:
      metrics:
        - total_queries
        - avg_response_time
        - fast_query_percentage
        - slow_query_percentage
        - unique_active_users
        - avg_citations_per_query
      group_by:
        - "Dimension('user_queries__query_date__week')"
      where:
        - "{{ Dimension('user_queries__query_date') }} >= '2024-01-01'"
      order_by:
        - "Dimension('user_queries__query_date__week') desc"
      limit: 12
    exports:
      - name: weekly_performance_csv
        config:
          export_as: csv
          alias: weekly_performance_report
